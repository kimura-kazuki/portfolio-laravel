# Portfolio Laravel

## ğŸ€ About Portfolio Laravel

Porfolio Laravelã¯ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç”¨ã®Laravelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ Laravel + Inertia.js + Vue.js ã«ã‚ˆã‚‹ãƒ¢ãƒãƒªã‚¹ä¸”ã¤ãƒ¢ãƒãƒ¬ãƒæ§‹æˆã¨ãªã£ã¦ã„ã¾ã™ã€‚

## ğŸ“„ Design Doc

æœªåˆ¶ä½œ

## ğŸ› ï¸ ä½¿ç”¨æŠ€è¡“

### ç’°å¢ƒ

- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰(PHP8, Laravel10)
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰(JavaScript, Laravel Jetstream, jQuery, Laravel Inertia, ziggy)
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯(Tailwind UI)
- é–‹ç™ºé–‹ç™º(Docker, Laravel Sail)
- æœ¬ç•ªç’°å¢ƒã‚¤ãƒ³ãƒ•ãƒ©(AWS)
- æœ¬ç•ªç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸(AWS S3)
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹(MySQL)
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥(redis, genealabs/laravel-model-caching)
- ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥(Sentry)
- ã‚­ãƒ¥ãƒ¼ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆLaravel Horizonï¼‰
- å…¨æ–‡æ¤œç´¢ï¼ˆMySQL FULLTEXT INDEX + protonemedia/laravel-cross-eloquent-searchï¼‰

### ãƒ†ã‚¹ãƒˆãƒ»è§£æ

- é™çš„è§£æ(Laravel Pint, phpcs, PHPMD, php intelephense, PHPStan(Larastan), tightenco/duster)
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å˜ä½“ãƒ»çµ±åˆãƒ†ã‚¹ãƒˆ(Pest)
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å˜ä½“ãƒ»çµ±åˆãƒ†ã‚¹ãƒˆ(Pest)
- ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ(Selenium, Laravel Dusk, Pest)
- CI/CD(GitHub Actions)
- API ã‚¹ã‚­ãƒ¼ãƒå®šç¾©(OpenAPI, Swagger, Laravel API Documentation Generator, Scribe)
- UI æ¤œè¨¼(StoryBook & Chromatic - StoryBookãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹)
- è² è·ãƒ†ã‚¹ãƒˆ(Taurus)
- ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ï¼ˆLaravel XHProfï¼‰
- N+1ãƒã‚§ãƒƒã‚¯ï¼ˆLaravel preventLazyLoading functionï¼‰
- ãƒ­ã‚°ãƒ“ãƒ¥ãƒ¼ãƒ¯ï¼ˆopcodesio/log-viewerï¼‰
- é–‹ç™ºç”¨ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«ï¼ˆLaravel Telescope, Clockworkï¼‰

### UX/UI

- CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯(Tailwind CSS, Tailwind UI)
- ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«(Figma, draw.io, PlantUML)
- SVGã‚¢ã‚¤ã‚³ãƒ³(tailwindlabs/heroicons)
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(daisyUI)
- Webã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³(Lottie.js, GSAP)
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç®¡ç†(Storybook)
- ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ï¼ˆçŠ¶æ…‹é·ç§»ï¼‰ç®¡ç†(asantibanez/laravel-eloquent-state-machines)

### SEO

- XMLã‚µã‚¤ãƒˆãƒãƒƒãƒ—ï¼ˆspatie/laravel-sitemapï¼‰

### Vue.js Library

- VueUse
- notiwind
- tailwindlabs/heroicons
- Sopamo/laravel-filepond
- Vue 3 Multiselect - vueform/multiselect

### Laravel Packages

- Laravel Sail
- Laravel Jetstream
- Laravel Inertia
- Laravel Telescope
- ziggy
- Clockwork
- DataTables
- bensampo/laravel-enum
- spatie/laravel-permissionï¼ˆãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡(RBAC)ï¼‰
- lazychaser/laravel-nestedsetï¼ˆå…¥ã‚Œå­é›†åˆãƒ¢ãƒ‡ãƒ«ï¼‰
- asantibanez/laravel-eloquent-state-machinesï¼ˆã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ï¼ˆçŠ¶æ…‹é·ç§»ï¼‰ç®¡ç†ï¼‰
- GeneaLabs/laravel-model-caching (Cache)

### ãã®ä»–ãƒ„ãƒ¼ãƒ«

- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼(Vite)
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†(Git/GitHub)
- ã‚¿ã‚¹ã‚¯ç®¡ç†(ClickUp or redmine)
- ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿(VSCode)
- ç”»é¢é·ç§»å›³(guiflow, PlantUML)
- DBè¨­è¨ˆæ›¸ãƒ»ERå›³(SchemaSpy, PlantUML)
- å•†å“ãŠæ°—ã«å…¥ã‚Šç™»éŒ²(Laravel Markable)
- ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ­ã‚°ã‚¤ãƒ³(Laravel Socialite)
- å…¥ã‚Œå­é›†åˆãƒ¢ãƒ‡ãƒ«ï¼ˆlazychaser/laravel-nestedsetï¼‰
- ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡(RBAC)ï¼ˆlaravel-permissionï¼‰
- APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆknuckleswtf/scribeï¼‰

### Documents

- ç”»é¢é·ç§»å›³: /documents/screen-transition-diagram.plantuml
- ERå›³: /documents/er-diagram.plantuml and http://localhost:8080 (SchemaSpy) ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
- APIä»•æ§˜æ›¸: http://localhost:8002 (SwaggerAPI) or http://localhost/docs (Scribe)ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰ã€dedoc/scramble
- ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆå›³: /documents/infra.plantuml

## ğŸ“ ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢è¨­è¨ˆæŒ‡é‡

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

- PHP - PSR-4ã€PSR-12ã«æº–æ‹ 

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

- DDDã‚„ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å‚è€ƒã«ã€UseCaseå±¤ã®ã¿ã‚’ç”¨ã„ãŸæ§‹æˆ
(UserCaseå±¤ã«ã¤ã„ã¦ã¯ã€app\Actionsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ ¼ç´)

#### å‚è€ƒ

- [5å¹´é–“ Laravel ã‚’ä½¿ã£ã¦è¾¿ã‚Šç€ã„ãŸï¼Œå…¨ç„¶é ‘å¼µã‚‰ãªã„ã€Œãªã‚“ã¡ã‚ƒã£ã¦ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€ã¨ã„ã†è½ã¨ã—ã©ã“ã‚](https://zenn.dev/mpyw/articles/ce7d09eb6d8117)
- [Laravelã®Actionã¨ä½¿ã„æ–¹](https://www.fourier.jp/techblog/articles/how-to-use-laravel-action/)

## ğŸ–¥ï¸ ç’°å¢ƒæ§‹ç¯‰

### gitã®è¨­å®šã«ã¤ã„ã¦

æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã®è‡ªå‹•å¤‰æ›´ã¯OFFã«ã—ã¦ãŠãã“ã¨

ãƒ»æ”¹è¡Œã‚³ãƒ¼ãƒ‰å¤‰æ›´ã‚³ãƒãƒ³ãƒ‰
```
$ git config --global core.autocrlf false
```
ãƒ»å¤‰æ›´å¾Œã®ç¢ºèª
```
$ git config --global -l
```

### git cloneå¾Œ

[Laravel Sailã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’GitHubãƒªãƒã‚¸ãƒˆãƒªã«pushã—ã¦åˆ©ç”¨ã™ã‚‹](https://qiita.com/kai_kou/items/bfea0281689b3d376812)

### èµ·å‹•
```
$ sail up -d
$ sail npm run dev
$ sail npm run storybook
```

### ãƒ†ã‚¹ãƒˆç”¨DB

```
$ cp .env .env.testing
```

.env.testing
```
- DB_HOST=mysql
+ DB_HOST=mysql.test
```

APP_KEYã‚’ç”Ÿæˆã™ã‚‹
```
$ sail artisan key:generate --env=testing
```

### å„ç¨®URL

- http://localhost
- http://localhost:8001 (Swagger Editor)
- http://localhost:8002 (SwaggerAPI)
- http://localhost:8025 (mailhog)
- http://localhost:8080 (SchemaSpy)
- http://localhost:9001 (Storybook)
- http://localhost/clockwork (Clockwork)
- http://localhost/telescope (Telescope)
- http://localhost/horizon (Horizon)
- http://localhost/log-viewer (log-viewer)
- http://localhost/docs (Scribe)

## ğŸº ãã®ä»–ã‚³ãƒãƒ³ãƒ‰

åŸºæœ¬ã¯ Makefile.example ã‚’å‚è€ƒã« Makefile ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
Makefileã¯ã‚ãã¾ã§ãƒ¡ãƒ¢ç¨‹åº¦ã«ãŠè€ƒãˆãã ã•ã„ã€‚

### Makefileã¨ã¯

[ã€åˆå¿ƒè€…å‘ã‘ã€‘Makefileå…¥é–€](https://qiita.com/mizcii/items/cfbd2aa17f6b7517c37f)

### Scribe
ä»•æ§˜æ›¸ã‚’ç”Ÿæˆï¼ˆpublic/docsä¸‹ã«ä»•æ§˜æ›¸ç­‰ãŒä½œæˆã•ã‚Œã‚‹ï¼‰
```
$ ./vendor/bin/sail artisan scribe:generate
```

### SchemaSpy
DBè¨­è¨ˆæ›¸ãƒ»REå›³ã‚’ç”Ÿæˆï¼ˆ./schemaspyä¸‹ã«ä»•æ§˜æ›¸ç­‰ãŒä½œæˆã•ã‚Œã‚‹ï¼‰
```
$ ./vendor/bin/sail up schemaspy
```

#### å‚è€ƒ
- [ã€React/Vue.jsã€‘ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆã®ï¼ˆå€‹äººçš„ï¼‰ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ | Offers Tech Blog](https://zenn.dev/offers/articles/20220523-component-design-best-practice)
- [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆã«ãŠã„ã¦å‚è€ƒã«ãªã‚‹è¨˜äº‹ã¾ã¨ã‚](https://zenn.dev/toshiyuki/articles/ea9fabc073ea0c)

### Laravel TypeScript

TypeScriptã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
```
$ sail artisan typescript:generate
```

### é™çš„è§£æï¼ˆLarastan(PHPStan)ï¼‰
```
$ docker exec -it 20230622_curva-laravel.app-1 ./vendor/bin/phpstan analyse

or

$ make phpstan
```

#### å‚è€ƒ

[Laravelã‚’ä½¿ã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å§‹ã‚ã‚‹ãªã‚‰Larastanãã‚‰ã„ã¯å°å…¥ã—ã‚ˆã†ã‚ˆ](https://zenn.dev/bs_kansai/articles/4a476c4b28f1d6)

### Unitãƒ†ã‚¹ãƒˆ
```
$ ./vendor/bin/sail artisan test
```

### ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ

æ³¨æ„: Duskã‚’å®Ÿè¡Œã™ã‚‹å‰ã«Viteã¯åœæ­¢ã—ã¦ãã ã•ã„ã€‚

```
$ ./vendor/bin/sail dusk
```
